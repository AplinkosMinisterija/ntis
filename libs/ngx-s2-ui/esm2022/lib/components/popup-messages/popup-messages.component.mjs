import { Component, HostBinding, Input, ViewEncapsulation } from '@angular/core';
import { CommonModule } from '@angular/common';
import { IconComponent } from '../icon/icon.component';
import { animate, state, style, transition, trigger } from '@angular/animations';
import * as i0 from "@angular/core";
import * as i1 from "../../services/s2-ui-popup-messages.service";
import * as i2 from "../../services/s2-ui-translations.service";
import * as i3 from "@angular/common";
class PopupMessagesComponent {
    service;
    translationsService;
    hostPositionClass = 's2-popup-messages--position-top-center';
    key;
    position = 'top-center';
    fadeDirection = 'top';
    defaultFadeDirectionTransition = 'translateY(100%)';
    fadeDirectionTransitions = {
        top: 'translateY(-100%)',
        left: 'translateX(-100%)',
        right: 'translateX(100%)',
        bottom: 'translateY(100%)',
    };
    icons = {
        error: 'error',
        warning: 'warning',
        success: 'check_circle',
        info: 'info',
    };
    constructor(service, translationsService) {
        this.service = service;
        this.translationsService = translationsService;
    }
    ngOnChanges(changes) {
        if (changes.position) {
            const currentValue = changes.position.currentValue;
            if (currentValue) {
                this.hostPositionClass = 's2-popup-messages--position-' + currentValue;
            }
            else {
                this.hostPositionClass = '';
            }
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: PopupMessagesComponent, deps: [{ token: i1.S2UiPopupMessagesService }, { token: i2.S2UiTranslationsService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.2", type: PopupMessagesComponent, isStandalone: true, selector: "s2-popup-messages", inputs: { key: "key", position: "position", fadeDirection: "fadeDirection" }, host: { properties: { "class": "this.hostPositionClass" }, classAttribute: "s2-popup-messages" }, usesOnChanges: true, ngImport: i0, template: "<ng-container *ngFor=\"let message of service.messages; index as i\">\r\n  <div\r\n    [@showHide]=\"{ value: 'visible', params: {transformValue: fadeDirectionTransitions[fadeDirection] || defaultFadeDirectionTransition} }\"\r\n    *ngIf=\"(!key && !message.containerKey) || key === message.containerKey\"\r\n    class=\"s2-popup-message\"\r\n    [ngClass]=\"{'s2-popup-message--closable': message.closable === undefined || message.closable}\"\r\n    role=\"alertdialog\"\r\n    [attr.aria-labelledby]=\"'s2-popup-message-heading-' + i\"\r\n    [attr.aria-describedby]=\"'s2-popup-message-text-' + i\"\r\n  >\r\n    <div\r\n      class=\"s2-popup-message__border\"\r\n      [ngClass]=\"message.severity ? 's2-popup-message__border--' + message.severity : ''\"\r\n    ></div>\r\n    <s2-icon\r\n      *ngIf=\"message.icon || message.severity\"\r\n      class=\"s2-popup-message__icon\"\r\n      [ngClass]=\"message.severity ? 's2-popup-message__icon--' + message.severity : ''\"\r\n      >{{ message.icon || icons[message.severity] }}</s2-icon\r\n    >\r\n    <div class=\"s2-popup-message__texts\">\r\n      <div\r\n        *ngIf=\"message.heading\"\r\n        class=\"s2-popup-message__heading\"\r\n        [ngClass]=\"message.severity ? 's2-popup-message__heading--' + message.severity : ''\"\r\n        [id]=\"'s2-popup-message-heading-' + i\"\r\n      >\r\n        {{ message.heading }}\r\n      </div>\r\n      <div *ngIf=\"message.text\" class=\"s2-popup-message__text\" [id]=\"'s2-popup-message-text-' + i\">\r\n        {{ message.text }}\r\n      </div>\r\n    </div>\r\n    <button\r\n      *ngIf=\"message.closable === undefined || message.closable\"\r\n      type=\"button\"\r\n      class=\"s2-popup-message__close\"\r\n      (click)=\"service.remove(message)\"\r\n      [attr.aria-label]=\"translationsService.translations.action.close\"\r\n    >\r\n      <s2-icon class=\"s2-popup-message__close-icon\">close</s2-icon>\r\n    </button>\r\n  </div>\r\n</ng-container>\r\n", styles: [".s2-popup-messages{pointer-events:none;position:fixed;z-index:50;display:flex;flex-direction:column;align-items:stretch;gap:.5rem;padding:.5rem;width:min(95vw,30rem)}.s2-popup-messages--position-top-center{top:0;left:50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-messages--position-top-left{top:0;left:0}.s2-popup-messages--position-top-right{top:0;right:0}.s2-popup-messages--position-bottom-center{bottom:0;left:50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-messages--position-bottom-left{bottom:0;left:0}.s2-popup-messages--position-bottom-right{bottom:0;right:0}.s2-popup-messages--position-center{top:50%;left:50%;--tw-translate-y: -50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-message{pointer-events:auto;position:relative;display:flex;align-items:center;overflow:hidden;border-radius:.25rem;background-color:hsl(var(--s2-color-neutral-050) / .95);padding:.25rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.s2-popup-message--closable{padding-right:1.25rem}.s2-popup-message__border{position:absolute;top:0;left:0;bottom:0;width:.25rem}.s2-popup-message__border--error{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-risk-600) / var(--tw-bg-opacity))}.s2-popup-message__border--info{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-info-600) / var(--tw-bg-opacity))}.s2-popup-message__border--success{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-success-600) / var(--tw-bg-opacity))}.s2-popup-message__border--warning{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-warning-600) / var(--tw-bg-opacity))}.s2-popup-message .s2-popup-message__icon{flex-shrink:0;padding-left:1rem;padding-right:.75rem;font-size:var(--s2-font-size-3xl);line-height:var(--s2-font-size-3xl-line-height)}.s2-popup-message .s2-popup-message__icon--error{--tw-text-opacity: 1;color:hsl(var(--s2-color-risk-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--info{--tw-text-opacity: 1;color:hsl(var(--s2-color-info-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--success{--tw-text-opacity: 1;color:hsl(var(--s2-color-success-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--warning{--tw-text-opacity: 1;color:hsl(var(--s2-color-warning-500) / var(--tw-text-opacity))}.s2-popup-message__texts{padding:.25rem}.s2-popup-message__heading{padding-bottom:.125rem;font-size:var(--s2-font-size-md);line-height:var(--s2-font-size-md-line-height);font-weight:500}.s2-popup-message__heading--error{--tw-text-opacity: 1;color:hsl(var(--s2-color-risk-900) / var(--tw-text-opacity))}.s2-popup-message__heading--info{--tw-text-opacity: 1;color:hsl(var(--s2-color-info-900) / var(--tw-text-opacity))}.s2-popup-message__heading--success{--tw-text-opacity: 1;color:hsl(var(--s2-color-success-900) / var(--tw-text-opacity))}.s2-popup-message__heading--warning{--tw-text-opacity: 1;color:hsl(var(--s2-color-warning-900) / var(--tw-text-opacity))}.s2-popup-message__close{position:absolute;top:.25rem;right:.25rem;font-size:var(--s2-font-size-xl);line-height:var(--s2-font-size-xl-line-height)}.s2-popup-message .s2-popup-message__close-icon{font-size:var(--s2-font-size-xl);line-height:var(--s2-font-size-xl-line-height);--tw-text-opacity: 1;color:hsl(var(--s2-color-text-700) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__close-icon:hover{--tw-text-opacity: 1;color:hsl(var(--s2-color-text-900) / var(--tw-text-opacity))}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: IconComponent, selector: "s2-icon" }], animations: [
            trigger('showHide', [
                state('visible', style({
                    transform: 'translate(0, 0)',
                    opacity: 1,
                })),
                transition(':enter', [
                    style({
                        opacity: 0,
                        transform: '{{transformValue}}',
                    }),
                    animate('0.2s ease'),
                ]),
                transition(':leave', [animate('0.2s ease', style({ opacity: 0, transform: '{{transformValue}}' }))]),
            ]),
        ], encapsulation: i0.ViewEncapsulation.None });
}
export { PopupMessagesComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: PopupMessagesComponent, decorators: [{
            type: Component,
            args: [{ selector: 's2-popup-messages', standalone: true, imports: [CommonModule, IconComponent], encapsulation: ViewEncapsulation.None, host: { class: 's2-popup-messages' }, animations: [
                        trigger('showHide', [
                            state('visible', style({
                                transform: 'translate(0, 0)',
                                opacity: 1,
                            })),
                            transition(':enter', [
                                style({
                                    opacity: 0,
                                    transform: '{{transformValue}}',
                                }),
                                animate('0.2s ease'),
                            ]),
                            transition(':leave', [animate('0.2s ease', style({ opacity: 0, transform: '{{transformValue}}' }))]),
                        ]),
                    ], template: "<ng-container *ngFor=\"let message of service.messages; index as i\">\r\n  <div\r\n    [@showHide]=\"{ value: 'visible', params: {transformValue: fadeDirectionTransitions[fadeDirection] || defaultFadeDirectionTransition} }\"\r\n    *ngIf=\"(!key && !message.containerKey) || key === message.containerKey\"\r\n    class=\"s2-popup-message\"\r\n    [ngClass]=\"{'s2-popup-message--closable': message.closable === undefined || message.closable}\"\r\n    role=\"alertdialog\"\r\n    [attr.aria-labelledby]=\"'s2-popup-message-heading-' + i\"\r\n    [attr.aria-describedby]=\"'s2-popup-message-text-' + i\"\r\n  >\r\n    <div\r\n      class=\"s2-popup-message__border\"\r\n      [ngClass]=\"message.severity ? 's2-popup-message__border--' + message.severity : ''\"\r\n    ></div>\r\n    <s2-icon\r\n      *ngIf=\"message.icon || message.severity\"\r\n      class=\"s2-popup-message__icon\"\r\n      [ngClass]=\"message.severity ? 's2-popup-message__icon--' + message.severity : ''\"\r\n      >{{ message.icon || icons[message.severity] }}</s2-icon\r\n    >\r\n    <div class=\"s2-popup-message__texts\">\r\n      <div\r\n        *ngIf=\"message.heading\"\r\n        class=\"s2-popup-message__heading\"\r\n        [ngClass]=\"message.severity ? 's2-popup-message__heading--' + message.severity : ''\"\r\n        [id]=\"'s2-popup-message-heading-' + i\"\r\n      >\r\n        {{ message.heading }}\r\n      </div>\r\n      <div *ngIf=\"message.text\" class=\"s2-popup-message__text\" [id]=\"'s2-popup-message-text-' + i\">\r\n        {{ message.text }}\r\n      </div>\r\n    </div>\r\n    <button\r\n      *ngIf=\"message.closable === undefined || message.closable\"\r\n      type=\"button\"\r\n      class=\"s2-popup-message__close\"\r\n      (click)=\"service.remove(message)\"\r\n      [attr.aria-label]=\"translationsService.translations.action.close\"\r\n    >\r\n      <s2-icon class=\"s2-popup-message__close-icon\">close</s2-icon>\r\n    </button>\r\n  </div>\r\n</ng-container>\r\n", styles: [".s2-popup-messages{pointer-events:none;position:fixed;z-index:50;display:flex;flex-direction:column;align-items:stretch;gap:.5rem;padding:.5rem;width:min(95vw,30rem)}.s2-popup-messages--position-top-center{top:0;left:50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-messages--position-top-left{top:0;left:0}.s2-popup-messages--position-top-right{top:0;right:0}.s2-popup-messages--position-bottom-center{bottom:0;left:50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-messages--position-bottom-left{bottom:0;left:0}.s2-popup-messages--position-bottom-right{bottom:0;right:0}.s2-popup-messages--position-center{top:50%;left:50%;--tw-translate-y: -50%;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.s2-popup-message{pointer-events:auto;position:relative;display:flex;align-items:center;overflow:hidden;border-radius:.25rem;background-color:hsl(var(--s2-color-neutral-050) / .95);padding:.25rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.s2-popup-message--closable{padding-right:1.25rem}.s2-popup-message__border{position:absolute;top:0;left:0;bottom:0;width:.25rem}.s2-popup-message__border--error{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-risk-600) / var(--tw-bg-opacity))}.s2-popup-message__border--info{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-info-600) / var(--tw-bg-opacity))}.s2-popup-message__border--success{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-success-600) / var(--tw-bg-opacity))}.s2-popup-message__border--warning{--tw-bg-opacity: 1;background-color:hsl(var(--s2-color-warning-600) / var(--tw-bg-opacity))}.s2-popup-message .s2-popup-message__icon{flex-shrink:0;padding-left:1rem;padding-right:.75rem;font-size:var(--s2-font-size-3xl);line-height:var(--s2-font-size-3xl-line-height)}.s2-popup-message .s2-popup-message__icon--error{--tw-text-opacity: 1;color:hsl(var(--s2-color-risk-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--info{--tw-text-opacity: 1;color:hsl(var(--s2-color-info-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--success{--tw-text-opacity: 1;color:hsl(var(--s2-color-success-500) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__icon--warning{--tw-text-opacity: 1;color:hsl(var(--s2-color-warning-500) / var(--tw-text-opacity))}.s2-popup-message__texts{padding:.25rem}.s2-popup-message__heading{padding-bottom:.125rem;font-size:var(--s2-font-size-md);line-height:var(--s2-font-size-md-line-height);font-weight:500}.s2-popup-message__heading--error{--tw-text-opacity: 1;color:hsl(var(--s2-color-risk-900) / var(--tw-text-opacity))}.s2-popup-message__heading--info{--tw-text-opacity: 1;color:hsl(var(--s2-color-info-900) / var(--tw-text-opacity))}.s2-popup-message__heading--success{--tw-text-opacity: 1;color:hsl(var(--s2-color-success-900) / var(--tw-text-opacity))}.s2-popup-message__heading--warning{--tw-text-opacity: 1;color:hsl(var(--s2-color-warning-900) / var(--tw-text-opacity))}.s2-popup-message__close{position:absolute;top:.25rem;right:.25rem;font-size:var(--s2-font-size-xl);line-height:var(--s2-font-size-xl-line-height)}.s2-popup-message .s2-popup-message__close-icon{font-size:var(--s2-font-size-xl);line-height:var(--s2-font-size-xl-line-height);--tw-text-opacity: 1;color:hsl(var(--s2-color-text-700) / var(--tw-text-opacity))}.s2-popup-message .s2-popup-message__close-icon:hover{--tw-text-opacity: 1;color:hsl(var(--s2-color-text-900) / var(--tw-text-opacity))}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.S2UiPopupMessagesService }, { type: i2.S2UiTranslationsService }]; }, propDecorators: { hostPositionClass: [{
                type: HostBinding,
                args: ['class']
            }], key: [{
                type: Input
            }], position: [{
                type: Input
            }], fadeDirection: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAtbWVzc2FnZXMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXMyLXVpL3NyYy9saWIvY29tcG9uZW50cy9wb3B1cC1tZXNzYWdlcy9wb3B1cC1tZXNzYWdlcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtczItdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvcHVwLW1lc3NhZ2VzL3BvcHVwLW1lc3NhZ2VzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBNEIsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0csT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFDOzs7OztBQUdqRixNQTRCYSxzQkFBc0I7SUE0QmQ7SUFBMEM7SUEzQi9CLGlCQUFpQixHQUFXLHdDQUF3QyxDQUFDO0lBQzFGLEdBQUcsQ0FBa0I7SUFDckIsUUFBUSxHQU9GLFlBQVksQ0FBQztJQUVuQixhQUFhLEdBQXdDLEtBQUssQ0FBQztJQUMzRCw4QkFBOEIsR0FBRyxrQkFBa0IsQ0FBQztJQUM3RCx3QkFBd0IsR0FBOEM7UUFDcEUsR0FBRyxFQUFFLG1CQUFtQjtRQUN4QixJQUFJLEVBQUUsbUJBQW1CO1FBQ3pCLEtBQUssRUFBRSxrQkFBa0I7UUFDekIsTUFBTSxFQUFFLGtCQUFrQjtLQUMzQixDQUFDO0lBRUYsS0FBSyxHQUFpRDtRQUNwRCxLQUFLLEVBQUUsT0FBTztRQUNkLE9BQU8sRUFBRSxTQUFTO1FBQ2xCLE9BQU8sRUFBRSxjQUFjO1FBQ3ZCLElBQUksRUFBRSxNQUFNO0tBQ2IsQ0FBQztJQUVGLFlBQW1CLE9BQWlDLEVBQVMsbUJBQTRDO1FBQXRGLFlBQU8sR0FBUCxPQUFPLENBQTBCO1FBQVMsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUF5QjtJQUFHLENBQUM7SUFFN0csV0FBVyxDQUFDLE9BQXNCO1FBQ2hDLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTtZQUNwQixNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFlBQW9DLENBQUM7WUFDM0UsSUFBSSxZQUFZLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyw4QkFBOEIsR0FBRyxZQUFZLENBQUM7YUFDeEU7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQzthQUM3QjtTQUNGO0lBQ0gsQ0FBQzt1R0F2Q1Usc0JBQXNCOzJGQUF0QixzQkFBc0Isa1JDbkNuQyxrOERBNENBLHdvSURsQ1ksWUFBWSw4VkFBRSxhQUFhLHNDQUt6QjtZQUNWLE9BQU8sQ0FBQyxVQUFVLEVBQUU7Z0JBQ2xCLEtBQUssQ0FDSCxTQUFTLEVBQ1QsS0FBSyxDQUFDO29CQUNKLFNBQVMsRUFBRSxpQkFBaUI7b0JBQzVCLE9BQU8sRUFBRSxDQUFDO2lCQUNYLENBQUMsQ0FDSDtnQkFDRCxVQUFVLENBQUMsUUFBUSxFQUFFO29CQUNuQixLQUFLLENBQUM7d0JBQ0osT0FBTyxFQUFFLENBQUM7d0JBQ1YsU0FBUyxFQUFFLG9CQUFvQjtxQkFDaEMsQ0FBQztvQkFDRixPQUFPLENBQUMsV0FBVyxDQUFDO2lCQUNyQixDQUFDO2dCQUNGLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDckcsQ0FBQztTQUNIOztTQUVVLHNCQUFzQjsyRkFBdEIsc0JBQXNCO2tCQTVCbEMsU0FBUzsrQkFDRSxtQkFBbUIsY0FDakIsSUFBSSxXQUNQLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxpQkFHdkIsaUJBQWlCLENBQUMsSUFBSSxRQUMvQixFQUFFLEtBQUssRUFBRSxtQkFBbUIsRUFBRSxjQUN4Qjt3QkFDVixPQUFPLENBQUMsVUFBVSxFQUFFOzRCQUNsQixLQUFLLENBQ0gsU0FBUyxFQUNULEtBQUssQ0FBQztnQ0FDSixTQUFTLEVBQUUsaUJBQWlCO2dDQUM1QixPQUFPLEVBQUUsQ0FBQzs2QkFDWCxDQUFDLENBQ0g7NEJBQ0QsVUFBVSxDQUFDLFFBQVEsRUFBRTtnQ0FDbkIsS0FBSyxDQUFDO29DQUNKLE9BQU8sRUFBRSxDQUFDO29DQUNWLFNBQVMsRUFBRSxvQkFBb0I7aUNBQ2hDLENBQUM7Z0NBQ0YsT0FBTyxDQUFDLFdBQVcsQ0FBQzs2QkFDckIsQ0FBQzs0QkFDRixVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO3lCQUNyRyxDQUFDO3FCQUNIO3FKQUc2QixpQkFBaUI7c0JBQTlDLFdBQVc7dUJBQUMsT0FBTztnQkFDWCxHQUFHO3NCQUFYLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFTRyxhQUFhO3NCQUFyQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0QmluZGluZywgSW5wdXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgUzJVaVBvcHVwTWVzc2FnZSwgUzJVaVBvcHVwTWVzc2FnZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvczItdWktcG9wdXAtbWVzc2FnZXMuc2VydmljZSc7XHJcbmltcG9ydCB7IEljb25Db21wb25lbnQgfSBmcm9tICcuLi9pY29uL2ljb24uY29tcG9uZW50JztcclxuaW1wb3J0IHsgYW5pbWF0ZSwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XHJcbmltcG9ydCB7IFMyVWlUcmFuc2xhdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvczItdWktdHJhbnNsYXRpb25zLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdzMi1wb3B1cC1tZXNzYWdlcycsXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBJY29uQ29tcG9uZW50XSxcclxuICB0ZW1wbGF0ZVVybDogJy4vcG9wdXAtbWVzc2FnZXMuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BvcHVwLW1lc3NhZ2VzLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBob3N0OiB7IGNsYXNzOiAnczItcG9wdXAtbWVzc2FnZXMnIH0sXHJcbiAgYW5pbWF0aW9uczogW1xyXG4gICAgdHJpZ2dlcignc2hvd0hpZGUnLCBbXHJcbiAgICAgIHN0YXRlKFxyXG4gICAgICAgICd2aXNpYmxlJyxcclxuICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgMCknLFxyXG4gICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICB9KVxyXG4gICAgICApLFxyXG4gICAgICB0cmFuc2l0aW9uKCc6ZW50ZXInLCBbXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICAgIHRyYW5zZm9ybTogJ3t7dHJhbnNmb3JtVmFsdWV9fScsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgYW5pbWF0ZSgnMC4ycyBlYXNlJyksXHJcbiAgICAgIF0pLFxyXG4gICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbYW5pbWF0ZSgnMC4ycyBlYXNlJywgc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd7e3RyYW5zZm9ybVZhbHVlfX0nIH0pKV0pLFxyXG4gICAgXSksXHJcbiAgXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFBvcHVwTWVzc2FnZXNDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSBwcml2YXRlIGhvc3RQb3NpdGlvbkNsYXNzOiBzdHJpbmcgPSAnczItcG9wdXAtbWVzc2FnZXMtLXBvc2l0aW9uLXRvcC1jZW50ZXInO1xyXG4gIEBJbnB1dCgpIGtleTogc3RyaW5nIHwgbnVtYmVyO1xyXG4gIEBJbnB1dCgpIHBvc2l0aW9uOlxyXG4gICAgfCAndG9wLWNlbnRlcidcclxuICAgIHwgJ3RvcC1sZWZ0J1xyXG4gICAgfCAndG9wLXJpZ2h0J1xyXG4gICAgfCAnYm90dG9tLWNlbnRlcidcclxuICAgIHwgJ2JvdHRvbS1sZWZ0J1xyXG4gICAgfCAnYm90dG9tLXJpZ2h0J1xyXG4gICAgfCAnY2VudGVyJyA9ICd0b3AtY2VudGVyJztcclxuXHJcbiAgQElucHV0KCkgZmFkZURpcmVjdGlvbjogJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgPSAndG9wJztcclxuICByZWFkb25seSBkZWZhdWx0RmFkZURpcmVjdGlvblRyYW5zaXRpb24gPSAndHJhbnNsYXRlWSgxMDAlKSc7XHJcbiAgZmFkZURpcmVjdGlvblRyYW5zaXRpb25zOiBSZWNvcmQ8dHlwZW9mIHRoaXMuZmFkZURpcmVjdGlvbiwgc3RyaW5nPiA9IHtcclxuICAgIHRvcDogJ3RyYW5zbGF0ZVkoLTEwMCUpJyxcclxuICAgIGxlZnQ6ICd0cmFuc2xhdGVYKC0xMDAlKScsXHJcbiAgICByaWdodDogJ3RyYW5zbGF0ZVgoMTAwJSknLFxyXG4gICAgYm90dG9tOiAndHJhbnNsYXRlWSgxMDAlKScsXHJcbiAgfTtcclxuXHJcbiAgaWNvbnM6IFJlY29yZDxTMlVpUG9wdXBNZXNzYWdlWydzZXZlcml0eSddLCBzdHJpbmc+ID0ge1xyXG4gICAgZXJyb3I6ICdlcnJvcicsXHJcbiAgICB3YXJuaW5nOiAnd2FybmluZycsXHJcbiAgICBzdWNjZXNzOiAnY2hlY2tfY2lyY2xlJyxcclxuICAgIGluZm86ICdpbmZvJyxcclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2VydmljZTogUzJVaVBvcHVwTWVzc2FnZXNTZXJ2aWNlLCBwdWJsaWMgdHJhbnNsYXRpb25zU2VydmljZTogUzJVaVRyYW5zbGF0aW9uc1NlcnZpY2UpIHt9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGlmIChjaGFuZ2VzLnBvc2l0aW9uKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNoYW5nZXMucG9zaXRpb24uY3VycmVudFZhbHVlIGFzIHR5cGVvZiB0aGlzLnBvc2l0aW9uO1xyXG4gICAgICBpZiAoY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0UG9zaXRpb25DbGFzcyA9ICdzMi1wb3B1cC1tZXNzYWdlcy0tcG9zaXRpb24tJyArIGN1cnJlbnRWYWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhvc3RQb3NpdGlvbkNsYXNzID0gJyc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbWVzc2FnZSBvZiBzZXJ2aWNlLm1lc3NhZ2VzOyBpbmRleCBhcyBpXCI+XHJcbiAgPGRpdlxyXG4gICAgW0BzaG93SGlkZV09XCJ7IHZhbHVlOiAndmlzaWJsZScsIHBhcmFtczoge3RyYW5zZm9ybVZhbHVlOiBmYWRlRGlyZWN0aW9uVHJhbnNpdGlvbnNbZmFkZURpcmVjdGlvbl0gfHwgZGVmYXVsdEZhZGVEaXJlY3Rpb25UcmFuc2l0aW9ufSB9XCJcclxuICAgICpuZ0lmPVwiKCFrZXkgJiYgIW1lc3NhZ2UuY29udGFpbmVyS2V5KSB8fCBrZXkgPT09IG1lc3NhZ2UuY29udGFpbmVyS2V5XCJcclxuICAgIGNsYXNzPVwiczItcG9wdXAtbWVzc2FnZVwiXHJcbiAgICBbbmdDbGFzc109XCJ7J3MyLXBvcHVwLW1lc3NhZ2UtLWNsb3NhYmxlJzogbWVzc2FnZS5jbG9zYWJsZSA9PT0gdW5kZWZpbmVkIHx8IG1lc3NhZ2UuY2xvc2FibGV9XCJcclxuICAgIHJvbGU9XCJhbGVydGRpYWxvZ1wiXHJcbiAgICBbYXR0ci5hcmlhLWxhYmVsbGVkYnldPVwiJ3MyLXBvcHVwLW1lc3NhZ2UtaGVhZGluZy0nICsgaVwiXHJcbiAgICBbYXR0ci5hcmlhLWRlc2NyaWJlZGJ5XT1cIidzMi1wb3B1cC1tZXNzYWdlLXRleHQtJyArIGlcIlxyXG4gID5cclxuICAgIDxkaXZcclxuICAgICAgY2xhc3M9XCJzMi1wb3B1cC1tZXNzYWdlX19ib3JkZXJcIlxyXG4gICAgICBbbmdDbGFzc109XCJtZXNzYWdlLnNldmVyaXR5ID8gJ3MyLXBvcHVwLW1lc3NhZ2VfX2JvcmRlci0tJyArIG1lc3NhZ2Uuc2V2ZXJpdHkgOiAnJ1wiXHJcbiAgICA+PC9kaXY+XHJcbiAgICA8czItaWNvblxyXG4gICAgICAqbmdJZj1cIm1lc3NhZ2UuaWNvbiB8fCBtZXNzYWdlLnNldmVyaXR5XCJcclxuICAgICAgY2xhc3M9XCJzMi1wb3B1cC1tZXNzYWdlX19pY29uXCJcclxuICAgICAgW25nQ2xhc3NdPVwibWVzc2FnZS5zZXZlcml0eSA/ICdzMi1wb3B1cC1tZXNzYWdlX19pY29uLS0nICsgbWVzc2FnZS5zZXZlcml0eSA6ICcnXCJcclxuICAgICAgPnt7IG1lc3NhZ2UuaWNvbiB8fCBpY29uc1ttZXNzYWdlLnNldmVyaXR5XSB9fTwvczItaWNvblxyXG4gICAgPlxyXG4gICAgPGRpdiBjbGFzcz1cInMyLXBvcHVwLW1lc3NhZ2VfX3RleHRzXCI+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICAqbmdJZj1cIm1lc3NhZ2UuaGVhZGluZ1wiXHJcbiAgICAgICAgY2xhc3M9XCJzMi1wb3B1cC1tZXNzYWdlX19oZWFkaW5nXCJcclxuICAgICAgICBbbmdDbGFzc109XCJtZXNzYWdlLnNldmVyaXR5ID8gJ3MyLXBvcHVwLW1lc3NhZ2VfX2hlYWRpbmctLScgKyBtZXNzYWdlLnNldmVyaXR5IDogJydcIlxyXG4gICAgICAgIFtpZF09XCInczItcG9wdXAtbWVzc2FnZS1oZWFkaW5nLScgKyBpXCJcclxuICAgICAgPlxyXG4gICAgICAgIHt7IG1lc3NhZ2UuaGVhZGluZyB9fVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiAqbmdJZj1cIm1lc3NhZ2UudGV4dFwiIGNsYXNzPVwiczItcG9wdXAtbWVzc2FnZV9fdGV4dFwiIFtpZF09XCInczItcG9wdXAtbWVzc2FnZS10ZXh0LScgKyBpXCI+XHJcbiAgICAgICAge3sgbWVzc2FnZS50ZXh0IH19XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8YnV0dG9uXHJcbiAgICAgICpuZ0lmPVwibWVzc2FnZS5jbG9zYWJsZSA9PT0gdW5kZWZpbmVkIHx8IG1lc3NhZ2UuY2xvc2FibGVcIlxyXG4gICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgY2xhc3M9XCJzMi1wb3B1cC1tZXNzYWdlX19jbG9zZVwiXHJcbiAgICAgIChjbGljayk9XCJzZXJ2aWNlLnJlbW92ZShtZXNzYWdlKVwiXHJcbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwidHJhbnNsYXRpb25zU2VydmljZS50cmFuc2xhdGlvbnMuYWN0aW9uLmNsb3NlXCJcclxuICAgID5cclxuICAgICAgPHMyLWljb24gY2xhc3M9XCJzMi1wb3B1cC1tZXNzYWdlX19jbG9zZS1pY29uXCI+Y2xvc2U8L3MyLWljb24+XHJcbiAgICA8L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuPC9uZy1jb250YWluZXI+XHJcbiJdfQ==