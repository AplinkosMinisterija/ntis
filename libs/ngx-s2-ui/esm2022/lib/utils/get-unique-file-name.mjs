import { getFileExtension } from './get-file-extension';
import { getUniqueName } from './get-unique-name';
export const getUniqueFileName = (name, usedNames) => {
    const nameExtension = getFileExtension(name);
    const nameWithoutExtension = name.slice(0, nameExtension && -nameExtension.length);
    const filteredUsedNamesWithoutExtension = usedNames
        .filter((usedName) => nameExtension ? usedName.toLowerCase().endsWith(nameExtension.toLowerCase()) : !getFileExtension(usedName))
        .map((usedName) => usedName.slice(0, nameExtension && -nameExtension.length));
    return `${getUniqueName(nameWithoutExtension, filteredUsedNamesWithoutExtension)}${nameExtension || ''}`;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXVuaXF1ZS1maWxlLW5hbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtczItdWkvc3JjL2xpYi91dGlscy9nZXQtdW5pcXVlLWZpbGUtbmFtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbEQsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFZLEVBQUUsU0FBbUIsRUFBVSxFQUFFO0lBQzdFLE1BQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25GLE1BQU0saUNBQWlDLEdBQUcsU0FBUztTQUNoRCxNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUNuQixhQUFhLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQzNHO1NBQ0EsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNoRixPQUFPLEdBQUcsYUFBYSxDQUFDLG9CQUFvQixFQUFFLGlDQUFpQyxDQUFDLEdBQUcsYUFBYSxJQUFJLEVBQUUsRUFBRSxDQUFDO0FBQzNHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEZpbGVFeHRlbnNpb24gfSBmcm9tICcuL2dldC1maWxlLWV4dGVuc2lvbic7XHJcbmltcG9ydCB7IGdldFVuaXF1ZU5hbWUgfSBmcm9tICcuL2dldC11bmlxdWUtbmFtZSc7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VW5pcXVlRmlsZU5hbWUgPSAobmFtZTogc3RyaW5nLCB1c2VkTmFtZXM6IHN0cmluZ1tdKTogc3RyaW5nID0+IHtcclxuICBjb25zdCBuYW1lRXh0ZW5zaW9uID0gZ2V0RmlsZUV4dGVuc2lvbihuYW1lKTtcclxuICBjb25zdCBuYW1lV2l0aG91dEV4dGVuc2lvbiA9IG5hbWUuc2xpY2UoMCwgbmFtZUV4dGVuc2lvbiAmJiAtbmFtZUV4dGVuc2lvbi5sZW5ndGgpO1xyXG4gIGNvbnN0IGZpbHRlcmVkVXNlZE5hbWVzV2l0aG91dEV4dGVuc2lvbiA9IHVzZWROYW1lc1xyXG4gICAgLmZpbHRlcigodXNlZE5hbWUpID0+XHJcbiAgICAgIG5hbWVFeHRlbnNpb24gPyB1c2VkTmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKG5hbWVFeHRlbnNpb24udG9Mb3dlckNhc2UoKSkgOiAhZ2V0RmlsZUV4dGVuc2lvbih1c2VkTmFtZSlcclxuICAgIClcclxuICAgIC5tYXAoKHVzZWROYW1lKSA9PiB1c2VkTmFtZS5zbGljZSgwLCBuYW1lRXh0ZW5zaW9uICYmIC1uYW1lRXh0ZW5zaW9uLmxlbmd0aCkpO1xyXG4gIHJldHVybiBgJHtnZXRVbmlxdWVOYW1lKG5hbWVXaXRob3V0RXh0ZW5zaW9uLCBmaWx0ZXJlZFVzZWROYW1lc1dpdGhvdXRFeHRlbnNpb24pfSR7bmFtZUV4dGVuc2lvbiB8fCAnJ31gO1xyXG59O1xyXG4iXX0=